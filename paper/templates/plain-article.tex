%! TEX program = xelatex
% WARNING: this is a generated file.
%
% Please do not edit this file directly. 
% - If you want to update the medatata of the paper (title, authors, abstract), please
%   edit the `paper-meta.yaml` file in the root of the repository.
% - If you want to update the content of the paper, please edit the latex files
%   in the `src` directory.
% - If you want to update the template itself (e.g., change the layout), please
%   edit the `templates/plain-article.tex` file instead.
\documentclass[11pt,a4paper,twosided]{article}

% we setup a custom geometry because the default one is too narrow
\usepackage{geometry}
\geometry{margin=3.5cm}

% we include whatever the user wants to include in the header
$for(header-includes)$
$header-includes$
$endfor$

% we include libraries (tex files) usually written in the `lib` directory
$for(libraries)$
\input{$libraries$}
$endfor$

% We include the title and author information based on the 
% `paper-meta.yaml` file.
$if(title)$ 
\title{$title$}
$endif$
\author{
$for(author)$
$author.name$$for(author.affiliation)$\thanks{$author.affiliation$}$endfor$
$sep$ \and
$endfor$
}

% For the date, we first check if the user has provided a date,
% and otherwise use the git meta inforamtion (if available).
$if(date)$
\date{$date$$if(git-meta)$ --- $git-meta.commit$$endif$}
$else$
$if(git-meta)$
\date{$git-meta.date$ -- $git-meta.commit$\footnote{branch $git-meta.branch$ at $git-meta.origin$}}
$endif$
$endif$


% Now, we create the document itself.
\begin{document}
% Generate the title page
\maketitle
% Print the abstract
\begin{abstract}
$if(abstract)$
    $abstract$
$else$
    Please write an abstract in the \texttt{paper-meta.yaml} file.
$endif$
\end{abstract}

% Include the content of the paper
$body$

% Include the bibliography
$if(bibliography)$
\bibliographystyle{plainurl}
\bibliography{$for(bibliography)$$it$$sep$,$endfor$}
$endif$

% If there are any appendices, we include them here.
$if(appendix)$
\appendix
$for(appendix)$
\input{$appendix$}
$endfor$
$endif$

$for(include-after)$
$include-after$
$endfor$

\end{document}
